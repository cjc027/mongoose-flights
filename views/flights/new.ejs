<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Flight</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body>
    <nav>
        <a href='/flights'>All Flights</a> | 
        <a href='/flights/new'>Add Flight</a>
    </nav>
    <h2>Add a New Flight</h2>
    <form action="/flights" method="POST">
        <label>Airline
            <select name="airline">
                <option value="American">American</option>
                <option value="Delta">Delta</option>
                <option value="Southwest">Southwest</option>
                <option value="United">United</option>
            </select>
        </label><br>
        <label>Airport
            <select name="airport">
                <option value="ATL">ATL</option>
                <option value="DFW">DFW</option>
                <option value="DEN" selected>DEN</option>
                <option value="LAX">LAX</option>
                <option value="SAN">SAN</option>
            </select>
        </label><br>
        <label>Flight Number:
            <input type='text' name='flightNo'>
        </label><br>
        <label>Departure
            <!-- <input type="datetime-local" name="departs" value= new Date(Date.now() + 365*24*60*60*1000).toISOString().slice(0, 16) > -->
            <!-- Changed input value property to use variables rendered through flight controller module. The main problem with my previous solution was that slicing the time zone information off of the ISO String (in order to conform to the requirements of the datetime-local string) meant that the default date shown became a year ahead based on GMT/UTC instead of the client's timezone/system time. -->
            <!-- By subtracting the timezoneOffset (milliseconds) from the defaultDate when instantiating a new Date, I negated the timezone offset that occurs when turning a date object into an ISO String. Using this method, the default date that shows in the input will be a year ahead of the current date based on the client's time zone  -->
            <input type="datetime-local" name="departs" value=<%= new Date(defaultDate - timezoneOffset).toISOString().slice(0, 16) %> >
        </label><br>
        <input type="submit" value="Add Flight">
    </form>
</body>

</html>